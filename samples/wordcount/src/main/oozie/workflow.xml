<?xml version="1.0"?>
<workflow-app name="wordcount@${year}-${month}-${day}T${hour}:00Z" xmlns="uri:oozie:workflow:0.4">
  <start to="main"/>
  <action name="main">
    <java>
        <job-tracker>${jobTracker}</job-tracker>
        <name-node>${nameNode}</name-node>
        <configuration>
            <property>
               <name>mapred.job.queue.name</name>
               <value>default</value>
            </property>
        </configuration>
        <main-class>com.collective.celos.examples.wordcount.WordCount</main-class>
        <arg>${inputDir}/${year}-${month}-${day}T${hour}00.txt</arg>
        <arg>${outputDir}/${year}-${month}-${day}T${hour}00</arg>
    </java>
    <ok to="end"/>
    <error to="kill"/>
  </action>
  <kill name="kill">
    <message>${wf:errorCode("failed")}</message>
  </kill>
  <end name="end"/>
</workflow-app>
